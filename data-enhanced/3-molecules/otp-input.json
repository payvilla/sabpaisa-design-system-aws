{
  "section": 14,
  "title": "OtpInput Component",
  "metadata": {
    "startLine": 4394,
    "endLine": 4937,
    "codeBlockCount": 17,
    "tableCount": 0,
    "extractedAt": "2025-12-01T16:35:09.312Z"
  },
  "codeBlocks": [
    {
      "id": "code-14-0",
      "language": "typescript",
      "code": "interface OtpInputProps {\n  /** Number of digits (default: 6) */\n  length?: number;\n\n  /** Current OTP value */\n  value: string;\n\n  /** Callback when value changes */\n  onChange: (value: string) => void;\n\n  /** Callback when all digits entered */\n  onComplete?: (value: string) => void;\n\n  /** Disable input */\n  disabled?: boolean;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\ninterface OtpVerificationProps {\n  /** Type of verification */\n  type: 'mobile' | 'email';\n\n  /** Mobile number or email being verified */\n  value: string;\n\n  /** Send OTP callback */\n  onSendOtp: () => Promise<void>;\n\n  /** Verify OTP callback */\n  onVerifyOtp: (otp: string) => Promise<boolean>;\n\n  /** Loading state */\n  isLoading?: boolean;\n\n  /** Cooldown time in seconds (default: 30) */\n  cooldownTime?: number;\n}",
      "lineNumber": 4413
    },
    {
      "id": "code-14-1",
      "language": "tsx",
      "code": "// User copies \"123456\" and pastes in any input\n// OtpInput automatically:\n// 1. Extracts only digits from pasted content\n// 2. Fills all 6 inputs\n// 3. Focuses the last filled input\n// 4. Triggers onComplete if all digits filled",
      "lineNumber": 4465
    },
    {
      "id": "code-14-2",
      "language": "tsx",
      "code": "import OtpInput from '@/components/ui/OtpInput';\nimport { useState } from 'react';\n\nconst BasicOtpExample = () => {\n  const [otp, setOtp] = useState('');\n\n  const handleComplete = (value: string) => {\n    console.log('OTP Complete:', value);\n    // Verify OTP\n    verifyOtp(value);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"block text-sm font-medium text-white\">\n        Enter 6-digit OTP\n      </label>\n      <OtpInput\n        value={otp}\n        onChange={setOtp}\n        onComplete={handleComplete}\n      />\n      <p className=\"text-sm text-white/60\">\n        {otp.length}/6 digits entered\n      </p>\n    </div>\n  );\n};",
      "lineNumber": 4492
    },
    {
      "id": "code-14-3",
      "language": "tsx",
      "code": "import { OtpVerification } from '@/components/ui/OtpInput';\nimport { useState } from 'react';\n\nconst MobileVerification = () => {\n  const [mobile, setMobile] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSendOtp = async () => {\n    setIsLoading(true);\n    try {\n      await api.sendOtp({ mobile });\n      toast.show({\n        type: 'success',\n        title: 'OTP Sent',\n        message: `6-digit code sent to ${mobile}`,\n      });\n    } catch (error) {\n      toast.show({\n        type: 'error',\n        title: 'Failed to send OTP',\n        message: error.message,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleVerifyOtp = async (otp: string) => {\n    try {\n      const response = await api.verifyOtp({ mobile, otp });\n      if (response.success) {\n        toast.show({\n          type: 'success',\n          title: 'Mobile Verified',\n          message: 'Your mobile number has been verified.',\n        });\n        return true;\n      }\n      toast.show({\n        type: 'error',\n        title: 'Invalid OTP',\n        message: 'Please check the code and try again.',\n      });\n      return false;\n    } catch (error) {\n      toast.show({\n        type: 'error',\n        title: 'Verification Failed',\n        message: error.message,\n      });\n      return false;\n    }\n  };\n\n  return (\n    <Card variant=\"default\" padding=\"lg\">\n      <h3 className=\"text-lg font-semibold text-white mb-4\">\n        Verify Mobile Number\n      </h3>\n      <TextField\n        name=\"mobile\"\n        label=\"Mobile Number\"\n        placeholder=\"+91 98765 43210\"\n        value={mobile}\n        onChange={(e) => setMobile(e.target.value)}\n        leftIcon={<Phone className=\"w-5 h-5\" />}\n      />\n      <div className=\"mt-6\">\n        <OtpVerification\n          type=\"mobile\"\n          value={mobile}\n          onSendOtp={handleSendOtp}\n          onVerifyOtp={handleVerifyOtp}\n          isLoading={isLoading}\n          cooldownTime={30}\n        />\n      </div>\n    </Card>\n  );\n};",
      "lineNumber": 4526
    },
    {
      "id": "code-14-4",
      "language": "tsx",
      "code": "const EmailVerification = ({ email }) => {\n  const handleSendOtp = async () => {\n    await api.sendEmailOtp(email);\n  };\n\n  const handleVerifyOtp = async (otp: string) => {\n    const result = await api.verifyEmailOtp(email, otp);\n    return result.success;\n  };\n\n  return (\n    <OtpVerification\n      type=\"email\"\n      value={email}\n      onSendOtp={handleSendOtp}\n      onVerifyOtp={handleVerifyOtp}\n      cooldownTime={60} // Email OTP longer cooldown\n    />\n  );\n};",
      "lineNumber": 4612
    },
    {
      "id": "code-14-5",
      "language": "tsx",
      "code": "const TransactionConfirmation = ({ amount, recipient }) => {\n  const [otp, setOtp] = useState('');\n  const [isVerifying, setIsVerifying] = useState(false);\n\n  const handleVerifyAndConfirm = async (otpValue: string) => {\n    setIsVerifying(true);\n    try {\n      const verified = await api.verifyTransactionOtp(otpValue);\n      if (verified) {\n        await api.processTransaction({ amount, recipient });\n        toast.show({\n          type: 'success',\n          title: 'Transaction Successful',\n          message: `₹${amount.toLocaleString('en-IN')} sent to ${recipient}`,\n        });\n        navigate('/transactions');\n      } else {\n        toast.show({\n          type: 'error',\n          title: 'Invalid OTP',\n          message: 'Transaction cancelled.',\n        });\n        setOtp('');\n      }\n    } catch (error) {\n      toast.show({\n        type: 'error',\n        title: 'Transaction Failed',\n        message: error.message,\n      });\n      setOtp('');\n    } finally {\n      setIsVerifying(false);\n    }\n  };\n\n  return (\n    <Card variant=\"glass\" padding=\"lg\">\n      <div className=\"text-center mb-6\">\n        <p className=\"text-sm text-white/60\">Confirm Payment</p>\n        <p className=\"text-3xl font-bold text-white mt-2\">\n          ₹{amount.toLocaleString('en-IN')}\n        </p>\n        <p className=\"text-sm text-white/80 mt-1\">to {recipient}</p>\n      </div>\n\n      <div className=\"space-y-4\">\n        <p className=\"text-sm text-white/90\">\n          Enter OTP sent to your registered mobile\n        </p>\n        <OtpInput\n          value={otp}\n          onChange={setOtp}\n          onComplete={handleVerifyAndConfirm}\n          disabled={isVerifying}\n        />\n        {isVerifying && (\n          <p className=\"text-sm text-blue-400 animate-pulse text-center\">\n            Verifying and processing transaction...\n          </p>\n        )}\n      </div>\n    </Card>\n  );\n};",
      "lineNumber": 4638
    },
    {
      "id": "code-14-6",
      "language": "tsx",
      "code": "const FourDigitPin = () => {\n  const [pin, setPin] = useState('');\n\n  return (\n    <OtpInput\n      length={4}\n      value={pin}\n      onChange={setPin}\n      onComplete={(value) => verifyPin(value)}\n      className=\"justify-center\" // Center align\n    />\n  );\n};",
      "lineNumber": 4709
    },
    {
      "id": "code-14-7",
      "language": "text",
      "code": "1. User enters mobile/email\n2. Clicks \"Send OTP\" → onSendOtp() called\n3. Backend sends OTP to user\n4. OTP inputs appear\n5. User enters 6 digits\n6. Auto-triggers onVerifyOtp(otp)\n7. Backend verifies OTP\n8. Returns true/false\n9. If true: Show success checkmark\n   If false: Clear inputs, show error",
      "lineNumber": 4730
    },
    {
      "id": "code-14-8",
      "language": "tsx",
      "code": "// After sending OTP, button shows countdown\n\"Send OTP\" → \"Resend in 30s\" → \"Resend in 29s\" → ... → \"Resend OTP\"\n\n// Implementation\nconst [countdown, setCountdown] = useState(0);\n\nuseEffect(() => {\n  if (countdown > 0) {\n    const timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n    return () => clearTimeout(timer);\n  }\n}, [countdown]);\n\n// Button disabled during countdown\n<Button\n  onClick={handleSendOtp}\n  disabled={countdown > 0}\n>\n  {countdown > 0 ? `Resend in ${countdown}s` : 'Resend OTP'}\n</Button>",
      "lineNumber": 4744
    },
    {
      "id": "code-14-9",
      "language": "tsx",
      "code": "// After successful verification\n<div className=\"flex items-center space-x-3 text-green-400\">\n  <div className=\"w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center border border-green-400/30\">\n    <span className=\"text-white text-xs\">✓</span>\n  </div>\n  <span className=\"text-sm font-medium\">\n    Mobile verified\n  </span>\n</div>",
      "lineNumber": 4768
    },
    {
      "id": "code-14-10",
      "language": "tsx",
      "code": "className={cn(\n  // Size & Shape\n  \"w-14 h-14 text-center text-xl font-bold rounded-xl\",\n\n  // Glassmorphism\n  \"bg-white/10 backdrop-blur-sm border-2 border-white/20\",\n\n  // Focus State\n  \"focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:border-blue-400\",\n\n  // Disabled State\n  \"disabled:opacity-50 disabled:cursor-not-allowed\",\n\n  // Text & Placeholder\n  \"text-white placeholder-white/50\",\n\n  // Transitions\n  \"transition-all duration-200\",\n\n  // Active State (when focused)\n  activeIndex === index\n    ? \"border-blue-400 bg-blue-500/20 shadow-lg shadow-blue-500/20\"\n    : \"hover:border-white/30 hover:bg-white/15\",\n\n  // Filled State (has value)\n  value[index] ? \"bg-blue-500/10 border-blue-400/50\" : \"\"\n)}",
      "lineNumber": 4785
    },
    {
      "id": "code-14-11",
      "language": "tsx",
      "code": "<div className=\"flex space-x-2\">\n  {/* 6 inputs with 0.5rem gap */}\n</div>",
      "lineNumber": 4816
    },
    {
      "id": "code-14-12",
      "language": "tsx",
      "code": "// Label for OTP input group\n<label className=\"block text-sm font-medium text-white/90\">\n  Enter OTP sent to your mobile\n</label>\n\n// Individual inputs have inputMode\n<input\n  type=\"text\"\n  inputMode=\"numeric\" // Shows numeric keyboard on mobile\n  maxLength={1}\n  aria-label={`Digit ${index + 1} of 6`}\n/>\n\n// Verification status announced\n<div role=\"status\" aria-live=\"polite\">\n  {isVerifying && <p>Verifying OTP...</p>}\n  {isVerified && <p>Mobile verified</p>}\n</div>",
      "lineNumber": 4833
    },
    {
      "id": "code-14-13",
      "language": "tsx",
      "code": "// WRONG: User sees wrong OTP, can't re-enter\nconst handleVerify = async (otp: string) => {\n  const success = await verifyOtp(otp);\n  if (!success) {\n    toast.show({ type: 'error', title: 'Invalid OTP' });\n    // OTP still visible in inputs!\n  }\n};\n\n// CORRECT: Clear inputs on failure\nconst handleVerify = async (otp: string) => {\n  const success = await verifyOtp(otp);\n  if (!success) {\n    setOtp(''); // Clear inputs\n    toast.show({ type: 'error', title: 'Invalid OTP' });\n  }\n};",
      "lineNumber": 4859
    },
    {
      "id": "code-14-14",
      "language": "tsx",
      "code": "// WRONG: User can spam \"Send OTP\"\n<Button onClick={handleSendOtp}>Send OTP</Button>\n\n// CORRECT: Implement cooldown\n<Button\n  onClick={handleSendOtp}\n  disabled={countdown > 0}\n>\n  {countdown > 0 ? `Resend in ${countdown}s` : 'Send OTP'}\n</Button>",
      "lineNumber": 4880
    },
    {
      "id": "code-14-15",
      "language": "tsx",
      "code": "// WRONG: User enters 6 digits but must click \"Verify\"\n<OtpInput value={otp} onChange={setOtp} />\n<Button onClick={() => verifyOtp(otp)}>Verify</Button>\n\n// CORRECT: Auto-verify on complete\n<OtpInput\n  value={otp}\n  onChange={setOtp}\n  onComplete={(value) => verifyOtp(value)} // Auto-trigger\n/>",
      "lineNumber": 4894
    },
    {
      "id": "code-14-16",
      "language": "tsx",
      "code": "// WRONG: type=\"number\" shows spinner arrows\n<input type=\"number\" />\n\n// CORRECT: type=\"text\" with inputMode=\"numeric\"\n<input type=\"text\" inputMode=\"numeric\" maxLength={1} />",
      "lineNumber": 4908
    }
  ],
  "tables": [],
  "content": "## Section 14: OtpInput Component\n\n### 14.1 Component Overview\n\n**Description**: Six-digit OTP input with auto-advance, paste support, and keyboard navigation. Includes `OtpVerification` wrapper for complete OTP flow.\n\n**Location**: `src/components/ui/OtpInput.tsx`\n\n**When to Use**:\n- ✅ Mobile number verification\n- ✅ Email verification\n- ✅ Two-factor authentication (2FA)\n- ✅ Transaction confirmation\n- ✅ Password reset flow\n\n---\n\n### 14.2 TypeScript Interface\n\n```typescript\ninterface OtpInputProps {\n  /** Number of digits (default: 6) */\n  length?: number;\n\n  /** Current OTP value */\n  value: string;\n\n  /** Callback when value changes */\n  onChange: (value: string) => void;\n\n  /** Callback when all digits entered */\n  onComplete?: (value: string) => void;\n\n  /** Disable input */\n  disabled?: boolean;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\ninterface OtpVerificationProps {\n  /** Type of verification */\n  type: 'mobile' | 'email';\n\n  /** Mobile number or email being verified */\n  value: string;\n\n  /** Send OTP callback */\n  onSendOtp: () => Promise<void>;\n\n  /** Verify OTP callback */\n  onVerifyOtp: (otp: string) => Promise<boolean>;\n\n  /** Loading state */\n  isLoading?: boolean;\n\n  /** Cooldown time in seconds (default: 30) */\n  cooldownTime?: number;\n}\n```\n\n---\n\n### 14.3 Features\n\n#### Auto-Advance\n- Automatically moves focus to next input when digit is entered\n- Moves to previous input on Backspace (when current is empty)\n- Focuses last input when all digits filled\n\n#### Paste Support\n```tsx\n// User copies \"123456\" and pastes in any input\n// OtpInput automatically:\n// 1. Extracts only digits from pasted content\n// 2. Fills all 6 inputs\n// 3. Focuses the last filled input\n// 4. Triggers onComplete if all digits filled\n```\n\n#### Keyboard Navigation\n- **Backspace**: Delete current digit, move to previous input\n- **Arrow Left**: Move to previous input\n- **Arrow Right**: Move to next input\n- **Number Keys**: Enter digit and advance\n- **Tab**: Standard tab order (natural navigation)\n\n#### Visual States\n1. **Default**: `border-white/20 bg-white/10`\n2. **Active/Focus**: `border-blue-400 bg-blue-500/20 shadow-lg shadow-blue-500/20`\n3. **Filled**: `bg-blue-500/10 border-blue-400/50`\n4. **Disabled**: `opacity-50 cursor-not-allowed`\n\n---\n\n### 14.4 Code Examples\n\n#### Example 1: Basic OTP Input\n```tsx\nimport OtpInput from '@/components/ui/OtpInput';\nimport { useState } from 'react';\n\nconst BasicOtpExample = () => {\n  const [otp, setOtp] = useState('');\n\n  const handleComplete = (value: string) => {\n    console.log('OTP Complete:', value);\n    // Verify OTP\n    verifyOtp(value);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"block text-sm font-medium text-white\">\n        Enter 6-digit OTP\n      </label>\n      <OtpInput\n        value={otp}\n        onChange={setOtp}\n        onComplete={handleComplete}\n      />\n      <p className=\"text-sm text-white/60\">\n        {otp.length}/6 digits entered\n      </p>\n    </div>\n  );\n};\n```\n\n---\n\n#### Example 2: Complete OTP Verification Flow\n```tsx\nimport { OtpVerification } from '@/components/ui/OtpInput';\nimport { useState } from 'react';\n\nconst MobileVerification = () => {\n  const [mobile, setMobile] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSendOtp = async () => {\n    setIsLoading(true);\n    try {\n      await api.sendOtp({ mobile });\n      toast.show({\n        type: 'success',\n        title: 'OTP Sent',\n        message: `6-digit code sent to ${mobile}`,\n      });\n    } catch (error) {\n      toast.show({\n        type: 'error',\n        title: 'Failed to send OTP',\n        message: error.message,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleVerifyOtp = async (otp: string) => {\n    try {\n      const response = await api.verifyOtp({ mobile, otp });\n      if (response.success) {\n        toast.show({\n          type: 'success',\n          title: 'Mobile Verified',\n          message: 'Your mobile number has been verified.',\n        });\n        return true;\n      }\n      toast.show({\n        type: 'error',\n        title: 'Invalid OTP',\n        message: 'Please check the code and try again.',\n      });\n      return false;\n    } catch (error) {\n      toast.show({\n        type: 'error',\n        title: 'Verification Failed',\n        message: error.message,\n      });\n      return false;\n    }\n  };\n\n  return (\n    <Card variant=\"default\" padding=\"lg\">\n      <h3 className=\"text-lg font-semibold text-white mb-4\">\n        Verify Mobile Number\n      </h3>\n      <TextField\n        name=\"mobile\"\n        label=\"Mobile Number\"\n        placeholder=\"+91 98765 43210\"\n        value={mobile}\n        onChange={(e) => setMobile(e.target.value)}\n        leftIcon={<Phone className=\"w-5 h-5\" />}\n      />\n      <div className=\"mt-6\">\n        <OtpVerification\n          type=\"mobile\"\n          value={mobile}\n          onSendOtp={handleSendOtp}\n          onVerifyOtp={handleVerifyOtp}\n          isLoading={isLoading}\n          cooldownTime={30}\n        />\n      </div>\n    </Card>\n  );\n};\n```\n\n---\n\n#### Example 3: Email Verification\n```tsx\nconst EmailVerification = ({ email }) => {\n  const handleSendOtp = async () => {\n    await api.sendEmailOtp(email);\n  };\n\n  const handleVerifyOtp = async (otp: string) => {\n    const result = await api.verifyEmailOtp(email, otp);\n    return result.success;\n  };\n\n  return (\n    <OtpVerification\n      type=\"email\"\n      value={email}\n      onSendOtp={handleSendOtp}\n      onVerifyOtp={handleVerifyOtp}\n      cooldownTime={60} // Email OTP longer cooldown\n    />\n  );\n};\n```\n\n---\n\n#### Example 4: Transaction Confirmation\n```tsx\nconst TransactionConfirmation = ({ amount, recipient }) => {\n  const [otp, setOtp] = useState('');\n  const [isVerifying, setIsVerifying] = useState(false);\n\n  const handleVerifyAndConfirm = async (otpValue: string) => {\n    setIsVerifying(true);\n    try {\n      const verified = await api.verifyTransactionOtp(otpValue);\n      if (verified) {\n        await api.processTransaction({ amount, recipient });\n        toast.show({\n          type: 'success',\n          title: 'Transaction Successful',\n          message: `₹${amount.toLocaleString('en-IN')} sent to ${recipient}`,\n        });\n        navigate('/transactions');\n      } else {\n        toast.show({\n          type: 'error',\n          title: 'Invalid OTP',\n          message: 'Transaction cancelled.',\n        });\n        setOtp('');\n      }\n    } catch (error) {\n      toast.show({\n        type: 'error',\n        title: 'Transaction Failed',\n        message: error.message,\n      });\n      setOtp('');\n    } finally {\n      setIsVerifying(false);\n    }\n  };\n\n  return (\n    <Card variant=\"glass\" padding=\"lg\">\n      <div className=\"text-center mb-6\">\n        <p className=\"text-sm text-white/60\">Confirm Payment</p>\n        <p className=\"text-3xl font-bold text-white mt-2\">\n          ₹{amount.toLocaleString('en-IN')}\n        </p>\n        <p className=\"text-sm text-white/80 mt-1\">to {recipient}</p>\n      </div>\n\n      <div className=\"space-y-4\">\n        <p className=\"text-sm text-white/90\">\n          Enter OTP sent to your registered mobile\n        </p>\n        <OtpInput\n          value={otp}\n          onChange={setOtp}\n          onComplete={handleVerifyAndConfirm}\n          disabled={isVerifying}\n        />\n        {isVerifying && (\n          <p className=\"text-sm text-blue-400 animate-pulse text-center\">\n            Verifying and processing transaction...\n          </p>\n        )}\n      </div>\n    </Card>\n  );\n};\n```\n\n---\n\n#### Example 5: Custom Length OTP (4 digits)\n```tsx\nconst FourDigitPin = () => {\n  const [pin, setPin] = useState('');\n\n  return (\n    <OtpInput\n      length={4}\n      value={pin}\n      onChange={setPin}\n      onComplete={(value) => verifyPin(value)}\n      className=\"justify-center\" // Center align\n    />\n  );\n};\n```\n\n---\n\n### 14.5 OtpVerification Component\n\n#### Complete Flow Diagram\n```\n1. User enters mobile/email\n2. Clicks \"Send OTP\" → onSendOtp() called\n3. Backend sends OTP to user\n4. OTP inputs appear\n5. User enters 6 digits\n6. Auto-triggers onVerifyOtp(otp)\n7. Backend verifies OTP\n8. Returns true/false\n9. If true: Show success checkmark\n   If false: Clear inputs, show error\n```\n\n#### Cooldown Timer\n```tsx\n// After sending OTP, button shows countdown\n\"Send OTP\" → \"Resend in 30s\" → \"Resend in 29s\" → ... → \"Resend OTP\"\n\n// Implementation\nconst [countdown, setCountdown] = useState(0);\n\nuseEffect(() => {\n  if (countdown > 0) {\n    const timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n    return () => clearTimeout(timer);\n  }\n}, [countdown]);\n\n// Button disabled during countdown\n<Button\n  onClick={handleSendOtp}\n  disabled={countdown > 0}\n>\n  {countdown > 0 ? `Resend in ${countdown}s` : 'Resend OTP'}\n</Button>\n```\n\n#### Success State\n```tsx\n// After successful verification\n<div className=\"flex items-center space-x-3 text-green-400\">\n  <div className=\"w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center border border-green-400/30\">\n    <span className=\"text-white text-xs\">✓</span>\n  </div>\n  <span className=\"text-sm font-medium\">\n    Mobile verified\n  </span>\n</div>\n```\n\n---\n\n### 14.6 Styling Details\n\n#### Individual Input Box\n```tsx\nclassName={cn(\n  // Size & Shape\n  \"w-14 h-14 text-center text-xl font-bold rounded-xl\",\n\n  // Glassmorphism\n  \"bg-white/10 backdrop-blur-sm border-2 border-white/20\",\n\n  // Focus State\n  \"focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:border-blue-400\",\n\n  // Disabled State\n  \"disabled:opacity-50 disabled:cursor-not-allowed\",\n\n  // Text & Placeholder\n  \"text-white placeholder-white/50\",\n\n  // Transitions\n  \"transition-all duration-200\",\n\n  // Active State (when focused)\n  activeIndex === index\n    ? \"border-blue-400 bg-blue-500/20 shadow-lg shadow-blue-500/20\"\n    : \"hover:border-white/30 hover:bg-white/15\",\n\n  // Filled State (has value)\n  value[index] ? \"bg-blue-500/10 border-blue-400/50\" : \"\"\n)}\n```\n\n#### Spacing Between Inputs\n```tsx\n<div className=\"flex space-x-2\">\n  {/* 6 inputs with 0.5rem gap */}\n</div>\n```\n\n---\n\n### 14.7 Accessibility\n\n#### WCAG Compliance\n- **Contrast**: White text on glassmorphic background = 4.8:1\n- **Focus Indicators**: Clear blue ring on focus (2px, offset)\n- **Touch Targets**: 56x56px (exceeds minimum 44x44px)\n- **Keyboard Navigation**: Full keyboard support (arrows, tab, backspace)\n\n#### Screen Reader Support\n```tsx\n// Label for OTP input group\n<label className=\"block text-sm font-medium text-white/90\">\n  Enter OTP sent to your mobile\n</label>\n\n// Individual inputs have inputMode\n<input\n  type=\"text\"\n  inputMode=\"numeric\" // Shows numeric keyboard on mobile\n  maxLength={1}\n  aria-label={`Digit ${index + 1} of 6`}\n/>\n\n// Verification status announced\n<div role=\"status\" aria-live=\"polite\">\n  {isVerifying && <p>Verifying OTP...</p>}\n  {isVerified && <p>Mobile verified</p>}\n</div>\n```\n\n---\n\n### 14.8 Anti-Patterns\n\n❌ **Not Clearing OTP on Failed Verification**\n```tsx\n// WRONG: User sees wrong OTP, can't re-enter\nconst handleVerify = async (otp: string) => {\n  const success = await verifyOtp(otp);\n  if (!success) {\n    toast.show({ type: 'error', title: 'Invalid OTP' });\n    // OTP still visible in inputs!\n  }\n};\n\n// CORRECT: Clear inputs on failure\nconst handleVerify = async (otp: string) => {\n  const success = await verifyOtp(otp);\n  if (!success) {\n    setOtp(''); // Clear inputs\n    toast.show({ type: 'error', title: 'Invalid OTP' });\n  }\n};\n```\n\n❌ **No Cooldown on Resend**\n```tsx\n// WRONG: User can spam \"Send OTP\"\n<Button onClick={handleSendOtp}>Send OTP</Button>\n\n// CORRECT: Implement cooldown\n<Button\n  onClick={handleSendOtp}\n  disabled={countdown > 0}\n>\n  {countdown > 0 ? `Resend in ${countdown}s` : 'Send OTP'}\n</Button>\n```\n\n❌ **Missing Auto-Complete on Full Entry**\n```tsx\n// WRONG: User enters 6 digits but must click \"Verify\"\n<OtpInput value={otp} onChange={setOtp} />\n<Button onClick={() => verifyOtp(otp)}>Verify</Button>\n\n// CORRECT: Auto-verify on complete\n<OtpInput\n  value={otp}\n  onChange={setOtp}\n  onComplete={(value) => verifyOtp(value)} // Auto-trigger\n/>\n```\n\n❌ **Using Type=\"number\" Instead of inputMode**\n```tsx\n// WRONG: type=\"number\" shows spinner arrows\n<input type=\"number\" />\n\n// CORRECT: type=\"text\" with inputMode=\"numeric\"\n<input type=\"text\" inputMode=\"numeric\" maxLength={1} />\n```\n\n---\n\n**END OF PHASE 2 (Sections 9-14)**\n\n**Phase 2 Complete** ✓\n\n- Section 9: Button Component ✓\n- Section 10: TextField Component ✓\n- Section 11: Card Component ✓\n- Section 12: Badge Component ✓\n- Section 13: Toast Component ✓\n- Section 14: OtpInput Component ✓\n\n**Document Status**:\n- Phase 1: Complete ✓\n- Phase 2: Complete ✓\n- Remaining: Phases 3-7 (Sections 15-35)\n\n**Lines Written**: ~4,940 lines (Phase 1-2 complete)\n\n---\n"
}