{
  "section": 17,
  "title": "Navigation/Sidebar Component",
  "metadata": {
    "startLine": 5749,
    "endLine": 6154,
    "codeBlockCount": 14,
    "tableCount": 0,
    "extractedAt": "2025-12-01T16:35:09.317Z"
  },
  "codeBlocks": [
    {
      "id": "code-17-0",
      "language": "typescript",
      "code": "interface SidebarProps {\n  /** User role determines menu items */\n  userRole?: 'MERCHANT' | 'REFERRAL' | 'ADMIN';\n\n  /** Display name */\n  userName?: string;\n}\n\ninterface MenuItem {\n  id: string;\n  label: string;\n  icon: LucideIcon;\n  path: string;\n  badge?: 'New' | 'AI' | 'Required' | 'Active' | 'In Progress';\n  roles?: string[]; // Role-based visibility\n}",
      "lineNumber": 5772
    },
    {
      "id": "code-17-1",
      "language": "tsx",
      "code": "<div className=\"fixed left-0 top-0 h-full z-40 transition-all w-80\">\n  {/* 1. Background Layer (Glassmorphism) */}\n  <div className=\"absolute inset-0 bg-gradient-to-b from-slate-900/95 via-gray-900/95 to-slate-900/95 backdrop-blur-2xl\">\n    {/* Gradient overlays */}\n  </div>\n\n  {/* 2. Content Container */}\n  <div className=\"flex flex-col h-full relative z-10\">\n    {/* 3. Logo Section */}\n    <div className=\"p-6 border-b border-white/20\">\n      <Logo />\n      <CollapseButton />\n    </div>\n\n    {/* 4. User Profile Widget */}\n    <div className=\"p-6 border-b border-white/20\">\n      <AccountProgress value={85} />\n      <UserAvatar name={userName} status=\"online\" />\n      <ContextToggle /> {/* Merchant/Referral Switch */}\n    </div>\n\n    {/* 5. Navigation Menu (Scrollable) */}\n    <nav className=\"flex-1 overflow-y-auto py-6\">\n      <MenuSection title=\"Main Navigation\">\n        {menuItems.map(item => (\n          <MenuItem key={item.id} {...item} />\n        ))}\n      </MenuSection>\n    </nav>\n\n    {/* 6. Bottom Section */}\n    <div className=\"border-t border-white/10 p-6\">\n      <BalanceCard amount={0} mode=\"test\" />\n    </div>\n  </div>\n</div>",
      "lineNumber": 5795
    },
    {
      "id": "code-17-2",
      "language": "tsx",
      "code": "const [isCollapsed, setIsCollapsed] = useState(false);\n\n// Persist state to localStorage\nuseEffect(() => {\n  localStorage.setItem('sidebar-collapsed', JSON.stringify(isCollapsed));\n}, [isCollapsed]);\n\n// Load state from localStorage\nuseEffect(() => {\n  const saved = localStorage.getItem('sidebar-collapsed');\n  if (saved) setIsCollapsed(JSON.parse(saved));\n}, []);\n\n// Width transition\nclassName={`\n  transition-all duration-500 ease-out\n  ${isCollapsed ? 'w-20' : 'w-80'}\n`}",
      "lineNumber": 5839
    },
    {
      "id": "code-17-3",
      "language": "tsx",
      "code": "const [isMobileOpen, setIsMobileOpen] = useState(false);\n\n// Mobile overlay\n{isMobileOpen && (\n  <div\n    className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden\"\n    onClick={() => setIsMobileOpen(false)}\n  />\n)}\n\n// Sidebar with transform\nclassName={`\n  ${isMobileOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}\n`}",
      "lineNumber": 5861
    },
    {
      "id": "code-17-4",
      "language": "tsx",
      "code": "const MenuItem = ({ id, label, icon: Icon, path, badge, isActive }) => {\n  return (\n    <button\n      onClick={() => navigate(path)}\n      className={`\n        w-full flex items-center px-4 py-3.5 rounded-2xl border\n        transition-all duration-300 group relative overflow-hidden\n        ${isActive\n          ? 'bg-gradient-to-r from-teal-500/20 to-blue-500/20 text-teal-400 border-teal-500/30 shadow-xl shadow-teal-500/10'\n          : 'text-white/60 hover:bg-white/5 hover:text-white border-transparent hover:border-white/10'\n        }\n      `}\n    >\n      {/* Active Indicator */}\n      {isActive && (\n        <div className=\"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-gradient-to-b from-teal-400 to-blue-400 rounded-r-full shadow-lg shadow-teal-400/50\" />\n      )}\n\n      {/* Icon */}\n      <Icon className={`h-5 w-5 mr-3 transition-all ${\n        isActive ? 'text-teal-400' : 'text-white/50 group-hover:text-teal-400'\n      }`} />\n\n      {/* Label */}\n      <span className=\"truncate\">{label}</span>\n\n      {/* Badge */}\n      {badge && (\n        <span className={`ml-auto px-2 py-1 text-xs font-bold rounded-full ${\n          badge === 'AI'\n            ? 'bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-300 border border-purple-500/30'\n            : badge === 'New'\n            ? 'bg-gradient-to-r from-emerald-500/20 to-teal-500/20 text-emerald-300 border border-emerald-500/30 animate-pulse'\n            : 'bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-300 border border-blue-500/30'\n        }`}>\n          {badge}\n        </span>\n      )}\n    </button>\n  );\n};",
      "lineNumber": 5882
    },
    {
      "id": "code-17-5",
      "language": "tsx",
      "code": "const merchantMenuItems: MenuItem[] = [\n  { id: 'dashboard', label: 'Dashboard', icon: LayoutDashboard, path: '/home' },\n  { id: 'transactions', label: 'All Transactions', icon: Receipt, path: '/txns' },\n  { id: 'refunds', label: 'Refund / Chargeback', icon: RotateCcw, path: '/txns/refunds-chargebacks' },\n  { id: 'settlements', label: 'Settlements', icon: Banknote, path: '/settlements' },\n  { id: 'ai-smart-routing', label: 'AI Smart Routing', icon: Zap, path: '/smart-routing', badge: 'AI' },\n  { id: 'mid-generation', label: 'MID Generation', icon: CreditCard, path: '/merchant/mids', badge: 'New' },\n  { id: 'complete-kyc', label: 'Complete KYC', icon: Shield, path: '/dashboard/complete-kyc', badge: 'Required' },\n  { id: 'reports', label: 'Analytics & Reports', icon: BarChart3, path: '/reports' },\n  { id: 'add-team', label: 'Add Team', icon: Users, path: '/team', badge: 'New' },\n  { id: 'support', label: 'Support', icon: LifeBuoy, path: '/support' },\n];\n\nconst referralMenuItems: MenuItem[] = [\n  { id: 'dashboard', label: 'Dashboard', icon: LayoutDashboard, path: '/partner/dashboard' },\n  { id: 'referrals', label: 'My Referrals', icon: Users, path: '/partner/referrals', badge: 'Active' },\n  { id: 'campaigns', label: 'Campaigns', icon: Link, path: '/partner/campaigns' },\n  { id: 'settlements', label: 'Settlements', icon: Banknote, path: '/partner/settlements' },\n  { id: 'reports', label: 'Analytics & Reports', icon: BarChart3, path: '/partner/reports' },\n  { id: 'support', label: 'Support', icon: LifeBuoy, path: '/partner/support' },\n];\n\n// Filter by role\nconst menuItems = userRole === 'REFERRAL' ? referralMenuItems : merchantMenuItems;",
      "lineNumber": 5930
    },
    {
      "id": "code-17-6",
      "language": "tsx",
      "code": "<div className=\"p-6 border-b border-white/20\">\n  {/* Account Progress */}\n  {!isCollapsed && (\n    <div className=\"mb-6 p-4 rounded-2xl bg-gradient-to-br from-white/10 to-white/5 border border-white/10\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <span className=\"text-xs font-medium text-white/70\">Account Status</span>\n        <span className=\"text-xs font-medium text-blue-400\">{accountProgress}%</span>\n      </div>\n      <div className=\"w-full bg-white/10 rounded-full h-2\">\n        <div\n          className=\"bg-gradient-to-r from-teal-500 via-blue-500 to-purple-500 h-2 rounded-full\"\n          style={{ width: `${accountProgress}%` }}\n        />\n      </div>\n      <p className=\"text-xs text-white/60 mt-2\">Almost ready for production</p>\n    </div>\n  )}\n\n  {/* User Avatar */}\n  <div className=\"flex items-center space-x-4\">\n    <div className=\"relative\">\n      <div className=\"w-12 h-12 rounded-2xl bg-gradient-to-br from-teal-500/20 to-blue-500/20 border border-white/10 flex items-center justify-center\">\n        <User className=\"h-5 w-5 text-blue-400\" />\n      </div>\n      {/* Online Status */}\n      <div className=\"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-400 rounded-full border-2 border-slate-900 animate-pulse\" />\n    </div>\n\n    {!isCollapsed && (\n      <div className=\"flex-1\">\n        <p className=\"text-sm font-medium text-white\">{userName}</p>\n        <div className=\"flex items-center space-x-1\">\n          <Crown className=\"h-3 w-3 text-amber-400\" />\n          <span className=\"text-xs text-amber-400 font-medium\">PREMIUM</span>\n        </div>\n      </div>\n    )}\n  </div>\n\n  {/* Context Toggle */}\n  {!isCollapsed && (\n    <div className=\"mt-4\">\n      <ContextToggle />\n    </div>\n  )}\n</div>",
      "lineNumber": 5961
    },
    {
      "id": "code-17-7",
      "language": "tsx",
      "code": "<div className=\"border-t border-white/10 p-6\">\n  <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-5 border border-white/10\">\n    <div className=\"flex items-center justify-between mb-2\">\n      <span className=\"text-xs font-medium text-white/70\">Account Balance</span>\n      <Wallet className=\"h-4 w-4 text-emerald-400\" />\n    </div>\n    <p className=\"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent mb-3\">\n      ₹0.00\n    </p>\n    <div className=\"flex items-center space-x-2\">\n      <div className=\"px-3 py-1.5 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 text-emerald-300 text-xs rounded-full border border-emerald-500/30\">\n        Test Mode\n      </div>\n      <div className=\"flex space-x-1\">\n        <div className=\"w-2 h-2 bg-emerald-400 rounded-full animate-pulse\" />\n        <div className=\"w-2 h-2 bg-teal-400 rounded-full animate-pulse\" style={{ animationDelay: '0.2s' }} />\n        <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-pulse\" style={{ animationDelay: '0.4s' }} />\n      </div>\n    </div>\n  </div>\n</div>",
      "lineNumber": 6014
    },
    {
      "id": "code-17-8",
      "language": "tsx",
      "code": "{/* Mobile Menu Button */}\n<button\n  onClick={() => setIsMobileOpen(!isMobileOpen)}\n  className=\"md:hidden fixed top-4 left-4 z-50 p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl rounded-lg shadow-lg\"\n>\n  {isMobileOpen ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\n</button>\n\n{/* Mobile Overlay */}\n{isMobileOpen && (\n  <div\n    className=\"md:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-40\"\n    onClick={() => setIsMobileOpen(false)}\n  />\n)}\n\n{/* Sidebar with Mobile Transform */}\n<div className={`\n  fixed left-0 top-0 h-full z-40\n  ${isMobileOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}\n  transition-transform duration-300\n`}>\n  {/* Sidebar content */}\n</div>\n\n{/* Auto-close on navigation (mobile) */}\nconst handleMenuClick = (path) => {\n  navigate(path);\n  if (window.innerWidth < 768) {\n    setIsMobileOpen(false);\n  }\n};",
      "lineNumber": 6042
    },
    {
      "id": "code-17-9",
      "language": "tsx",
      "code": "// All menu items are keyboard accessible (native button elements)\n<button\n  onClick={() => navigate(path)}\n  onKeyPress={(e) => e.key === 'Enter' && navigate(path)}\n  aria-label={label}\n  aria-current={isActive ? 'page' : undefined}\n>\n  {/* Menu item content */}\n</button>",
      "lineNumber": 6082
    },
    {
      "id": "code-17-10",
      "language": "tsx",
      "code": "// Collapse button has label\n<button\n  onClick={toggleCollapse}\n  aria-label={isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n  aria-expanded={!isCollapsed}\n>\n  <ChevronLeft />\n</button>\n\n// Mobile menu button\n<button\n  onClick={toggleMobile}\n  aria-label={isMobileOpen ? 'Close menu' : 'Open menu'}\n>\n  {isMobileOpen ? <X /> : <Menu />}\n</button>",
      "lineNumber": 6095
    },
    {
      "id": "code-17-11",
      "language": "tsx",
      "code": "// WRONG: All items look the same\n<button className=\"text-white hover:bg-white/10\">\n  Dashboard\n</button>\n\n// CORRECT: Clear active state\n<button className={isActive ? 'bg-teal-500/20 text-teal-400' : 'text-white/60'}>\n  Dashboard\n</button>",
      "lineNumber": 6119
    },
    {
      "id": "code-17-12",
      "language": "tsx",
      "code": "// WRONG: Collapsed state resets\nconst [isCollapsed, setIsCollapsed] = useState(false);\n\n// CORRECT: Persist to localStorage\nuseEffect(() => {\n  localStorage.setItem('sidebar-collapsed', JSON.stringify(isCollapsed));\n}, [isCollapsed]);",
      "lineNumber": 6132
    },
    {
      "id": "code-17-13",
      "language": "tsx",
      "code": "// WRONG: No overlay to indicate modal state\n<div className=\"fixed left-0 sidebar\">...</div>\n\n// CORRECT: Add overlay backdrop\n{isMobileOpen && (\n  <div className=\"fixed inset-0 bg-black/50 z-40\" onClick={closeMenu} />\n)}",
      "lineNumber": 6143
    }
  ],
  "tables": [],
  "content": "## Section 17: Navigation/Sidebar Component\n\n### 17.1 Component Overview\n\n**Description**: Collapsible sidebar navigation with glassmorphism, role-based menus, mobile responsive, and state persistence.\n\n**Location**: `src/components/Dashboard/Sidebar.jsx`\n\n**Key Features**:\n- ✅ Collapsible desktop sidebar\n- ✅ Mobile drawer with overlay\n- ✅ Role-based menu items (Merchant vs Referral)\n- ✅ Active state highlighting\n- ✅ Badge system (New, AI, Required)\n- ✅ User profile section\n- ✅ Account progress indicator\n- ✅ Context switching (Merchant/Referral)\n- ✅ localStorage persistence\n\n---\n\n### 17.2 TypeScript Interface\n\n```typescript\ninterface SidebarProps {\n  /** User role determines menu items */\n  userRole?: 'MERCHANT' | 'REFERRAL' | 'ADMIN';\n\n  /** Display name */\n  userName?: string;\n}\n\ninterface MenuItem {\n  id: string;\n  label: string;\n  icon: LucideIcon;\n  path: string;\n  badge?: 'New' | 'AI' | 'Required' | 'Active' | 'In Progress';\n  roles?: string[]; // Role-based visibility\n}\n```\n\n---\n\n### 17.3 Sidebar Structure\n\n```tsx\n<div className=\"fixed left-0 top-0 h-full z-40 transition-all w-80\">\n  {/* 1. Background Layer (Glassmorphism) */}\n  <div className=\"absolute inset-0 bg-gradient-to-b from-slate-900/95 via-gray-900/95 to-slate-900/95 backdrop-blur-2xl\">\n    {/* Gradient overlays */}\n  </div>\n\n  {/* 2. Content Container */}\n  <div className=\"flex flex-col h-full relative z-10\">\n    {/* 3. Logo Section */}\n    <div className=\"p-6 border-b border-white/20\">\n      <Logo />\n      <CollapseButton />\n    </div>\n\n    {/* 4. User Profile Widget */}\n    <div className=\"p-6 border-b border-white/20\">\n      <AccountProgress value={85} />\n      <UserAvatar name={userName} status=\"online\" />\n      <ContextToggle /> {/* Merchant/Referral Switch */}\n    </div>\n\n    {/* 5. Navigation Menu (Scrollable) */}\n    <nav className=\"flex-1 overflow-y-auto py-6\">\n      <MenuSection title=\"Main Navigation\">\n        {menuItems.map(item => (\n          <MenuItem key={item.id} {...item} />\n        ))}\n      </MenuSection>\n    </nav>\n\n    {/* 6. Bottom Section */}\n    <div className=\"border-t border-white/10 p-6\">\n      <BalanceCard amount={0} mode=\"test\" />\n    </div>\n  </div>\n</div>\n```\n\n---\n\n### 17.4 Collapsible Behavior\n\n#### Desktop Collapse State\n```tsx\nconst [isCollapsed, setIsCollapsed] = useState(false);\n\n// Persist state to localStorage\nuseEffect(() => {\n  localStorage.setItem('sidebar-collapsed', JSON.stringify(isCollapsed));\n}, [isCollapsed]);\n\n// Load state from localStorage\nuseEffect(() => {\n  const saved = localStorage.getItem('sidebar-collapsed');\n  if (saved) setIsCollapsed(JSON.parse(saved));\n}, []);\n\n// Width transition\nclassName={`\n  transition-all duration-500 ease-out\n  ${isCollapsed ? 'w-20' : 'w-80'}\n`}\n```\n\n#### Mobile Drawer\n```tsx\nconst [isMobileOpen, setIsMobileOpen] = useState(false);\n\n// Mobile overlay\n{isMobileOpen && (\n  <div\n    className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden\"\n    onClick={() => setIsMobileOpen(false)}\n  />\n)}\n\n// Sidebar with transform\nclassName={`\n  ${isMobileOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}\n`}\n```\n\n---\n\n### 17.5 Menu Item Component\n\n```tsx\nconst MenuItem = ({ id, label, icon: Icon, path, badge, isActive }) => {\n  return (\n    <button\n      onClick={() => navigate(path)}\n      className={`\n        w-full flex items-center px-4 py-3.5 rounded-2xl border\n        transition-all duration-300 group relative overflow-hidden\n        ${isActive\n          ? 'bg-gradient-to-r from-teal-500/20 to-blue-500/20 text-teal-400 border-teal-500/30 shadow-xl shadow-teal-500/10'\n          : 'text-white/60 hover:bg-white/5 hover:text-white border-transparent hover:border-white/10'\n        }\n      `}\n    >\n      {/* Active Indicator */}\n      {isActive && (\n        <div className=\"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-gradient-to-b from-teal-400 to-blue-400 rounded-r-full shadow-lg shadow-teal-400/50\" />\n      )}\n\n      {/* Icon */}\n      <Icon className={`h-5 w-5 mr-3 transition-all ${\n        isActive ? 'text-teal-400' : 'text-white/50 group-hover:text-teal-400'\n      }`} />\n\n      {/* Label */}\n      <span className=\"truncate\">{label}</span>\n\n      {/* Badge */}\n      {badge && (\n        <span className={`ml-auto px-2 py-1 text-xs font-bold rounded-full ${\n          badge === 'AI'\n            ? 'bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-300 border border-purple-500/30'\n            : badge === 'New'\n            ? 'bg-gradient-to-r from-emerald-500/20 to-teal-500/20 text-emerald-300 border border-emerald-500/30 animate-pulse'\n            : 'bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-300 border border-blue-500/30'\n        }`}>\n          {badge}\n        </span>\n      )}\n    </button>\n  );\n};\n```\n\n---\n\n### 17.6 Role-Based Menu Configuration\n\n```tsx\nconst merchantMenuItems: MenuItem[] = [\n  { id: 'dashboard', label: 'Dashboard', icon: LayoutDashboard, path: '/home' },\n  { id: 'transactions', label: 'All Transactions', icon: Receipt, path: '/txns' },\n  { id: 'refunds', label: 'Refund / Chargeback', icon: RotateCcw, path: '/txns/refunds-chargebacks' },\n  { id: 'settlements', label: 'Settlements', icon: Banknote, path: '/settlements' },\n  { id: 'ai-smart-routing', label: 'AI Smart Routing', icon: Zap, path: '/smart-routing', badge: 'AI' },\n  { id: 'mid-generation', label: 'MID Generation', icon: CreditCard, path: '/merchant/mids', badge: 'New' },\n  { id: 'complete-kyc', label: 'Complete KYC', icon: Shield, path: '/dashboard/complete-kyc', badge: 'Required' },\n  { id: 'reports', label: 'Analytics & Reports', icon: BarChart3, path: '/reports' },\n  { id: 'add-team', label: 'Add Team', icon: Users, path: '/team', badge: 'New' },\n  { id: 'support', label: 'Support', icon: LifeBuoy, path: '/support' },\n];\n\nconst referralMenuItems: MenuItem[] = [\n  { id: 'dashboard', label: 'Dashboard', icon: LayoutDashboard, path: '/partner/dashboard' },\n  { id: 'referrals', label: 'My Referrals', icon: Users, path: '/partner/referrals', badge: 'Active' },\n  { id: 'campaigns', label: 'Campaigns', icon: Link, path: '/partner/campaigns' },\n  { id: 'settlements', label: 'Settlements', icon: Banknote, path: '/partner/settlements' },\n  { id: 'reports', label: 'Analytics & Reports', icon: BarChart3, path: '/partner/reports' },\n  { id: 'support', label: 'Support', icon: LifeBuoy, path: '/partner/support' },\n];\n\n// Filter by role\nconst menuItems = userRole === 'REFERRAL' ? referralMenuItems : merchantMenuItems;\n```\n\n---\n\n### 17.7 User Profile Section\n\n```tsx\n<div className=\"p-6 border-b border-white/20\">\n  {/* Account Progress */}\n  {!isCollapsed && (\n    <div className=\"mb-6 p-4 rounded-2xl bg-gradient-to-br from-white/10 to-white/5 border border-white/10\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <span className=\"text-xs font-medium text-white/70\">Account Status</span>\n        <span className=\"text-xs font-medium text-blue-400\">{accountProgress}%</span>\n      </div>\n      <div className=\"w-full bg-white/10 rounded-full h-2\">\n        <div\n          className=\"bg-gradient-to-r from-teal-500 via-blue-500 to-purple-500 h-2 rounded-full\"\n          style={{ width: `${accountProgress}%` }}\n        />\n      </div>\n      <p className=\"text-xs text-white/60 mt-2\">Almost ready for production</p>\n    </div>\n  )}\n\n  {/* User Avatar */}\n  <div className=\"flex items-center space-x-4\">\n    <div className=\"relative\">\n      <div className=\"w-12 h-12 rounded-2xl bg-gradient-to-br from-teal-500/20 to-blue-500/20 border border-white/10 flex items-center justify-center\">\n        <User className=\"h-5 w-5 text-blue-400\" />\n      </div>\n      {/* Online Status */}\n      <div className=\"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-400 rounded-full border-2 border-slate-900 animate-pulse\" />\n    </div>\n\n    {!isCollapsed && (\n      <div className=\"flex-1\">\n        <p className=\"text-sm font-medium text-white\">{userName}</p>\n        <div className=\"flex items-center space-x-1\">\n          <Crown className=\"h-3 w-3 text-amber-400\" />\n          <span className=\"text-xs text-amber-400 font-medium\">PREMIUM</span>\n        </div>\n      </div>\n    )}\n  </div>\n\n  {/* Context Toggle */}\n  {!isCollapsed && (\n    <div className=\"mt-4\">\n      <ContextToggle />\n    </div>\n  )}\n</div>\n```\n\n---\n\n### 17.8 Balance Card (Bottom Section)\n\n```tsx\n<div className=\"border-t border-white/10 p-6\">\n  <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-5 border border-white/10\">\n    <div className=\"flex items-center justify-between mb-2\">\n      <span className=\"text-xs font-medium text-white/70\">Account Balance</span>\n      <Wallet className=\"h-4 w-4 text-emerald-400\" />\n    </div>\n    <p className=\"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent mb-3\">\n      ₹0.00\n    </p>\n    <div className=\"flex items-center space-x-2\">\n      <div className=\"px-3 py-1.5 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 text-emerald-300 text-xs rounded-full border border-emerald-500/30\">\n        Test Mode\n      </div>\n      <div className=\"flex space-x-1\">\n        <div className=\"w-2 h-2 bg-emerald-400 rounded-full animate-pulse\" />\n        <div className=\"w-2 h-2 bg-teal-400 rounded-full animate-pulse\" style={{ animationDelay: '0.2s' }} />\n        <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-pulse\" style={{ animationDelay: '0.4s' }} />\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n---\n\n### 17.9 Mobile Responsiveness\n\n```tsx\n{/* Mobile Menu Button */}\n<button\n  onClick={() => setIsMobileOpen(!isMobileOpen)}\n  className=\"md:hidden fixed top-4 left-4 z-50 p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl rounded-lg shadow-lg\"\n>\n  {isMobileOpen ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\n</button>\n\n{/* Mobile Overlay */}\n{isMobileOpen && (\n  <div\n    className=\"md:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-40\"\n    onClick={() => setIsMobileOpen(false)}\n  />\n)}\n\n{/* Sidebar with Mobile Transform */}\n<div className={`\n  fixed left-0 top-0 h-full z-40\n  ${isMobileOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}\n  transition-transform duration-300\n`}>\n  {/* Sidebar content */}\n</div>\n\n{/* Auto-close on navigation (mobile) */}\nconst handleMenuClick = (path) => {\n  navigate(path);\n  if (window.innerWidth < 768) {\n    setIsMobileOpen(false);\n  }\n};\n```\n\n---\n\n### 17.10 Accessibility\n\n#### Keyboard Navigation\n```tsx\n// All menu items are keyboard accessible (native button elements)\n<button\n  onClick={() => navigate(path)}\n  onKeyPress={(e) => e.key === 'Enter' && navigate(path)}\n  aria-label={label}\n  aria-current={isActive ? 'page' : undefined}\n>\n  {/* Menu item content */}\n</button>\n```\n\n#### Screen Reader Support\n```tsx\n// Collapse button has label\n<button\n  onClick={toggleCollapse}\n  aria-label={isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n  aria-expanded={!isCollapsed}\n>\n  <ChevronLeft />\n</button>\n\n// Mobile menu button\n<button\n  onClick={toggleMobile}\n  aria-label={isMobileOpen ? 'Close menu' : 'Open menu'}\n>\n  {isMobileOpen ? <X /> : <Menu />}\n</button>\n```\n\n---\n\n### 17.11 Anti-Patterns\n\n❌ **No Active State**\n```tsx\n// WRONG: All items look the same\n<button className=\"text-white hover:bg-white/10\">\n  Dashboard\n</button>\n\n// CORRECT: Clear active state\n<button className={isActive ? 'bg-teal-500/20 text-teal-400' : 'text-white/60'}>\n  Dashboard\n</button>\n```\n\n❌ **Losing State on Refresh**\n```tsx\n// WRONG: Collapsed state resets\nconst [isCollapsed, setIsCollapsed] = useState(false);\n\n// CORRECT: Persist to localStorage\nuseEffect(() => {\n  localStorage.setItem('sidebar-collapsed', JSON.stringify(isCollapsed));\n}, [isCollapsed]);\n```\n\n❌ **Mobile Menu Covers Content**\n```tsx\n// WRONG: No overlay to indicate modal state\n<div className=\"fixed left-0 sidebar\">...</div>\n\n// CORRECT: Add overlay backdrop\n{isMobileOpen && (\n  <div className=\"fixed inset-0 bg-black/50 z-40\" onClick={closeMenu} />\n)}\n```\n\n---\n"
}